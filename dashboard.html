<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Agent Dashboard</title>
  <style>
    body { background: #0d0d0d; color: #00ffcc; font-family: monospace; margin: 0; padding: 0; }
    header { background: #000; padding: 10px 20px; display: flex; justify-content: space-between; align-items: center; }
    .menu-toggle { background: #00ffcc; color: #000; border: none; padding: 8px 16px; cursor: pointer; }
    #wallet { font-weight: bold; }
    .side-menu { position: fixed; top: 0; right: -320px; width: 320px; height: 100%; background: #000; border-left: 2px solid #00ffcc; padding: 20px; transition: right 0.3s ease; overflow-y: auto; }
    .side-menu.open { right: 0; }
    .close-btn { background: none; border: none; color: #00ffcc; font-size: 20px; cursor: pointer; float: right; }
    .mission-box, .recruit-box { padding: 20px; text-align: center; margin-top: 20px; }
    button { margin: 10px; background: #00ffcc; color: #000; border: none; padding: 8px 16px; cursor: pointer; }
    button:hover { background: #00ccb3; }
    .card { border: 1px solid #00ffcc; margin: 10px 0; padding: 10px; background: rgba(0,255,204,0.05); }
    details summary { cursor: pointer; }
    #statusOverlay { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.85); color: #00ffcc; display: none; align-items: center; justify-content: center; font-size: 1.5rem; text-align: center; z-index: 9999; }
  </style>
</head>
<body>
  <header>
    <h2>üïµÔ∏è Agent Dashboard</h2>
    <div>
      <span id="wallet">üí∞ ‚Ç¨100,000</span>
      <button class="menu-toggle" onclick="toggleMenu()">‚ò∞ Menu</button>
    </div>
  </header>

  <div id="menuPanel" class="side-menu">
    <button class="close-btn" onclick="toggleMenu()">√ó</button>
    <h3>‚úÖ Missions</h3>
    <div id="missionsList"></div>
    <hr>
    <h3>üßë Recruits</h3>
    <div id="recruitsList"></div>
  </div>

  <div class="mission-box" id="missionBox"></div>
  <div class="recruit-box" id="recruitBox"></div>

  <div id="statusOverlay"></div>

  <script>
    let wallet = 100000, missions = [], recruits = [], current = null;

    const missionTemplates = [
      "Intercept enemy transmission", "Surveil high-value target",
      "Extract compromised agent",   "Infiltrate secure facility",
      "Plant tracking device",       "Retrieve encrypted data",
      "Neutralize rogue operative",  "Secure secret package"
    ];

    function toggleMenu() {
      document.getElementById('menuPanel').classList.toggle('open');
      renderLists();
    }

    function updateWallet() {
      document.getElementById('wallet').textContent = `üí∞ ‚Ç¨${wallet.toLocaleString()}`;
    }

    function random(min, max) {
      return Math.floor(Math.random() * (max - min + 1)) + min;
    }

    function showMission() {
      const text = missionTemplates[Math.floor(Math.random() * missionTemplates.length)];
      const details = `Details for "${text}" mission...`;
      const payout = random(50000,145000);
      current = { type: "mission", text, details, payout };
      renderBoxes();
    }

    function acceptMission() {
      missions.push({ ...current });
      renderLists();
      current = null;
      renderBoxes();
    }

    function completeMission(idx) {
      const m = missions.splice(idx,1)[0];
      const isMIA = Math.random() < 0.2 && recruits.length;
      showOverlay(() => {
        if (isMIA) {
          const rIdx = random(0, recruits.length-1);
          const r = recruits.splice(rIdx,1)[0];
          return `üò± ${r.name} was captured. Mission failed.`;
        } else {
          wallet += m.payout;
          return `‚úÖ Mission completed! You earned ‚Ç¨${m.payout.toLocaleString()}.`;
        }
      }, () => {
        updateWallet(); renderLists();
      });
    }

    function showRecruit() {
      const names=["Shadow","Viper","Ghost","Blaze","Nova","Raven","Hunter"];
      const locs=["Berlin","Tokyo","NYC","Paris","Cairo","Moscow"];
      const skills=["Assassination","Stealth","Hacking"];
      current = {
        type: "recruit",
        name: names[Math.floor(Math.random()*names.length)],
        age: random(25,45),
        location: locs[Math.floor(Math.random()*locs.length)],
        skill: skills[Math.floor(Math.random()*skills.length)],
        cost: random(20000,60000)
      };
      renderBoxes();
    }

    function hireRecruit() {
      if (wallet < current.cost) return alert("Not enough money!");
      wallet -= current.cost;
      recruits.push({ ...current });
      showOverlay(`üëç Hired ${current.name} for ‚Ç¨${current.cost.toLocaleString()}`, () => {
        updateWallet(); renderLists(); current=null; renderBoxes();
      });
    }

    function renderLists() {
      let html = missions.length ? missions.map((m,i) => `
        <div class="card"><strong>${m.text}</strong><br>Payout: ‚Ç¨${m.payout.toLocaleString()}<br>
        <button onclick="completeMission(${i})">Mark Completed</button></div>`).join('') : '<p>No missions.</p>';
      document.getElementById('missionsList').innerHTML = html;

      html = recruits.length ? recruits.map(r => `
        <div class="card"><strong>${r.name}</strong> ‚Äî ${r.skill}</div>`).join('') : '<p>No recruits.</p>';
      document.getElementById('recruitsList').innerHTML = html;
    }

    function renderBoxes() {
      const mb = document.getElementById('missionBox');
      mb.innerHTML = current && current.type=="mission" ? `
        <div class="card"><h3>${current.text}</h3>Payout: ‚Ç¨${current.payout.toLocaleString()}<br>
        ${current.details}<br><button onclick="acceptMission()">Accept Mission</button></div>` : '';

      const rb = document.getElementById('recruitBox');
      rb.innerHTML = current && current.type=="recruit" ? `
        <div class="card"><h3>${current.name}</h3>Age: ${current.age}, ${current.location}<br>Skill: ${current.skill}<br>
        Cost: ‚Ç¨${current.cost.toLocaleString()}<br><button onclick="hireRecruit()">Hire</button><button onclick="showRecruit()">Next Recruit</button></div>` : '';
    }

    function showOverlay(content, cb=null) {
      const o = document.getElementById('statusOverlay');
      o.textContent = content;
      o.style.display = 'flex';
      setTimeout(() => {
        o.style.display = 'none';
        cb && cb();
      },3000);
    }

    // Initialize
    updateWallet();
    renderLists();
    showMission();
    showRecruit();
  </script>
</body>
</html>