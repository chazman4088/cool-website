<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Agent Dashboard</title>
  <style>
    body { background: #0d0d0d; color: #00ffcc; font-family: monospace; margin: 0; padding: 0; }
    header { background: #000; padding: 10px 20px; display: flex; justify-content: space-between; align-items: center; }
    .menu-toggle { background: #00ffcc; color: #000; border: none; padding: 8px 16px; cursor: pointer; }
    #wallet { font-weight: bold; }
    .side-menu { position: fixed; top: 0; right: -320px; width: 320px; height: 100%; background: #000; border-left: 2px solid #00ffcc; padding: 20px; transition: right 0.3s ease; overflow-y: auto; z-index: 10; }
    .side-menu.open { right: 0; }
    .close-btn { background: none; border: none; color: #00ffcc; font-size: 20px; cursor: pointer; float: right; }
    .section-box { padding: 20px; text-align: center; margin-top: 20px; }
    button { margin: 10px; background: #00ffcc; color: #000; border: none; padding: 8px 16px; cursor: pointer; }
    button:hover { background: #00ccb3; }
    .card { border: 1px solid #00ffcc; margin: 10px auto; padding: 10px; max-width: 400px; background: rgba(0,255,204,0.05); }
    #statusOverlay { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.85); color: #00ffcc; display: none; align-items: center; justify-content: center; font-size: 1.5rem; text-align: center; z-index: 9999; }
  </style>
</head>
<body>
  <header>
    <h2>üïµÔ∏è Agent Dashboard</h2>
    <div>
      <span id="wallet">üí∞ ‚Ç¨100,000</span>
      <button class="menu-toggle" onclick="toggleMenu()">‚ò∞ Menu</button>
    </div>
  </header>

  <div id="menuPanel" class="side-menu">
    <button class="close-btn" onclick="toggleMenu()">√ó</button>
    <h3>‚úÖ Missions</h3>
    <div id="missionsList"></div>
    <hr>
    <h3>üßë Recruits</h3>
    <div id="recruitsList"></div>
  </div>

  <div class="section-box" id="missionBox"></div>
  <div class="section-box" id="recruitBox"></div>

  <div id="statusOverlay"></div>

  <script>
    let wallet = 100000, missions = [], recruits = [], currentMission = null, currentRecruit = null;

    const missionTemplates = [
      "Intercept enemy transmission", "Surveil high-value target",
      "Extract compromised agent", "Infiltrate secure facility",
      "Plant tracking device", "Retrieve encrypted data",
      "Neutralize rogue operative", "Secure secret package"
    ];

    function toggleMenu() {
      document.getElementById('menuPanel').classList.toggle('open');
      renderLists();
    }

    function updateWallet() {
      document.getElementById('wallet').textContent = `üí∞ ‚Ç¨${wallet.toLocaleString()}`;
    }

    function random(min, max) {
      return Math.floor(Math.random() * (max - min + 1)) + min;
    }

    function showMission() {
      const text = missionTemplates[Math.floor(Math.random() * missionTemplates.length)];
      const payout = random(50000, 145000);
      currentMission = { text, details: "Top secret details unavailable.", payout };
      renderMissionBox();
    }

    function showRecruit() {
      const names = ["Shadow", "Viper", "Ghost", "Blaze", "Nova", "Raven", "Hunter"];
      const locs = ["Berlin", "Tokyo", "NYC", "Paris", "Cairo", "Moscow"];
      const skills = ["Assassination", "Stealth", "Hacking"];
      currentRecruit = {
        name: names[Math.floor(Math.random() * names.length)],
        age: random(25, 45),
        location: locs[Math.floor(Math.random() * locs.length)],
        skill: skills[Math.floor(Math.random() * skills.length)],
        cost: random(20000, 60000)
      };
      renderRecruitBox();
    }

    function acceptMission() {
      missions.push({ ...currentMission });
      currentMission = null;
      renderMissionBox();
      renderLists();
      showMission();
    }

    function completeMission(index) {
      const mission = missions.splice(index, 1)[0];
      const isMIA = Math.random() < 0.2 && recruits.length > 0;
      showOverlay(() => {
        if (isMIA) {
          const rIndex = random(0, recruits.length - 1);
          const lost = recruits.splice(rIndex, 1)[0];
          return `üò¢ ${lost.name} has been captured. Mission failed.`;
        } else {
          wallet += mission.payout;
          return `‚úÖ Mission complete! You earned ‚Ç¨${mission.payout.toLocaleString()}.`;
        }
      }, () => {
        updateWallet();
        renderLists();
      });
    }

    function hireRecruit() {
      if (wallet < currentRecruit.cost) {
        alert("Not enough funds to hire!");
        return;
      }
      wallet -= currentRecruit.cost;
      recruits.push({ ...currentRecruit });
      showOverlay(`üéâ Well done! ${currentRecruit.name} is happy to join.`, () => {
        updateWallet();
        renderLists();
        currentRecruit = null;
        renderRecruitBox();
        showRecruit();
      });
    }

    function renderLists() {
      const missionsHTML = missions.length ? missions.map((m, i) => `
        <div class="card">
          <strong>${m.text}</strong><br>
          Payout: ‚Ç¨${m.payout.toLocaleString()}<br>
          <button onclick="completeMission(${i})">Mark Completed</button>
        </div>`).join('') : "<p>No missions yet.</p>";
      document.getElementById('missionsList').innerHTML = missionsHTML;

      const recruitsHTML = recruits.length ? recruits.map(r => `
        <div class="card">
          <strong>${r.name}</strong><br>
          ${r.skill}, Age ${r.age}<br>${r.location}
        </div>`).join('') : "<p>No recruits yet.</p>";
      document.getElementById('recruitsList').innerHTML = recruitsHTML;
    }

    function renderMissionBox() {
      const box = document.getElementById('missionBox');
      if (currentMission) {
        box.innerHTML = `
          <div class="card">
            <h3>${currentMission.text}</h3>
            <p>${currentMission.details}</p>
            <p><strong>Payout:</strong> ‚Ç¨${currentMission.payout.toLocaleString()}</p>
            <button onclick="acceptMission()">Accept Mission</button>
          </div>`;
      } else {
        box.innerHTML = '';
      }
    }

    function renderRecruitBox() {
      const box = document.getElementById('recruitBox');
      if (currentRecruit) {
        box.innerHTML = `
          <div class="card">
            <h3>${currentRecruit.name}</h3>
            Age: ${currentRecruit.age} ‚Äî Location: ${currentRecruit.location}<br>
            Skill: ${currentRecruit.skill}<br>
            <strong>Cost:</strong> ‚Ç¨${currentRecruit.cost.toLocaleString()}<br>
            <button onclick="hireRecruit()">Hire</button>
            <button onclick="showRecruit()">View Next Recruit</button>
          </div>`;
      } else {
        box.innerHTML = '';
      }
    }

    function showOverlay(messageOrFunction, callback = null) {
      const overlay = document.getElementById('statusOverlay');
      const text = typeof messageOrFunction === 'function' ? messageOrFunction() : messageOrFunction;
      overlay.textContent = text;
      overlay.style.display = 'flex';
      setTimeout(() => {
        overlay.style.display = 'none';
        if (callback) callback();
      }, 3000);
    }

    // Initialize
    updateWallet();
    renderLists();
    showMission();
    showRecruit();
  </script>
</body>
</html>