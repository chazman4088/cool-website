<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Agent Dashboard</title>
  <style>
    body { background: #0d0d0d; color: #00ffcc; font-family: monospace; margin: 0; padding: 0; }
    header { background: #000; padding: 10px 20px; display: flex; justify-content: space-between; align-items: center;}
    .menu-toggle { background: #00ffcc; color: #000; border: none; padding: 8px 16px; margin-left: 10px; cursor: pointer; }
    #wallet { font-weight: bold; }
    .side-menu { position: fixed; top: 0; right: -340px; width: 340px; height: 100%; background: #000; border-left:2px solid #00ffcc; padding:20px; transition:right .3s ease; overflow-y:auto; }
    .side-menu.open { right: 0; }
    .close-btn { float:right; background:none; border:none; color:#00ffcc; font-size:1.2rem; cursor:pointer; }
    .section-box { padding:20px; max-width:600px; margin:20px auto; background:rgba(0,255,204,0.05); border:1px solid #00ffcc; }
    button { background:#00ffcc; color:#000; border:none; padding:8px 16px; margin:10px; cursor:pointer; }
    button:hover { background:#00ccb3; }
    .card { padding:10px; border:1px solid #00ffcc; margin:10px 0; }
    #statusOverlay { position:fixed; top:0; left:0; width:100%; height:100%; background:rgba(0,0,0,0.85); color:#00ffcc; display:none; align-items:center; justify-content:center; font-size:1.2rem; text-align:center; z-index:9999; }
    input { padding:8px; width:80%; margin:10px 0; }
  </style>
</head>
<body>
  <header>
    <h2>üïµÔ∏è Agent Dashboard</h2>
    <div>
      <span id="wallet">üí∞ ‚Ç¨100,000</span>
      <button class="menu-toggle" onclick="toggleMenu()">‚ò∞ Menu</button>
      <button class="menu-toggle" onclick="showStocks()">üìà Invest in Stocks</button>
      <button class="menu-toggle" onclick="showMission()">üéØ New Mission</button>
      <button class="menu-toggle" onclick="showRecruit()">üßë Hire Recruit</button>
    </div>
  </header>

  <div id="menuPanel" class="side-menu">
    <button class="close-btn" onclick="toggleMenu()">√ó</button>
    <h3>‚úÖ Active Missions</h3><div id="missionsList"></div><hr>
    <h3>üßë Hired Recruits</h3><div id="recruitsList"></div>
  </div>

  <div id="mainContent">
    <div class="section-box" id="missionBox"></div>
    <div class="section-box" id="recruitBox"></div>
    <div class="section-box" id="stockBox"></div>
  </div>

  <div id="statusOverlay"></div>

  <script>
    let wallet = 100000, missions=[], recruits=[], currentMission=null, currentRecruit=null;

    const missionTemplates=[
      "Intercept enemy transmission","Surveil high-value target","Extract compromised agent",
      "Infiltrate secure facility","Plant tracking device","Retrieve encrypted data",
      "Neutralize rogue operative","Secure secret package"
    ];
    const stockNames=["ACME Corp","Global Dynamics","Zenith Tech","Nova Energy","Quantum Systems","Helix Pharma"];

    function updateWallet(){
      document.getElementById("wallet").textContent=`üí∞ ‚Ç¨${wallet.toLocaleString()}`;
    }

    function random(min,max){ return Math.floor(Math.random()*(max-min+1))+min; }

    function toggleMenu(){
      document.getElementById("menuPanel").classList.toggle("open");
      renderLists();
    }

    // ‚Äî‚Äî Missions ‚Äî‚Äî
    function showMission(){
      currentMission={ 
        text: missionTemplates[random(0,missionTemplates.length-1)],
        details:"Top-secret mission briefing.",
        payout: random(50000,145000)
      };
      currentRecruit=null;
      currentStock=null;
      renderSections();
    }
    function acceptMission(){
      missions.push({...currentMission});
      currentMission=null; renderSections(); renderLists();
    }
    function completeMission(i){
      const m=missions.splice(i,1)[0], isMIA=Math.random()<0.1 && recruits.length>0;
      showOverlay(()=>{
        if(isMIA){
          const rIndex=random(0,recruits.length-1), lost=recruits.splice(rIndex,1)[0];
          return `üò¢ ${lost.name} has been captured ‚Äì mission failed.`;
        } else {
          wallet+=m.payout;
          return `‚úÖ Mission complete! Payout: ‚Ç¨${m.payout.toLocaleString()}`;
        }
      },()=>{updateWallet();renderLists()});
    }
    function renderLists(){
      document.getElementById("missionsList").innerHTML=missions.length?missions.map((m,i)=>`
        <div class="card"><strong>${m.text}</strong><br>
        Payout: ‚Ç¨${m.payout.toLocaleString()}<br>
        <button onclick="completeMission(${i})">Mark Completed</button></div>`).join(""):`<p>No active missions.</p>`;

      document.getElementById("recruitsList").innerHTML=recruits.length?recruits.map(r=>`
        <div class="card"><strong>${r.name}</strong><br>${r.skill}, Age ${r.age}<br>${r.location}</div>`).join(""):`<p>No recruits hired.</p>`;
    }
    function renderSections(){
      document.getElementById("missionBox").innerHTML=currentMission?`
        <div class="card"><h3>${currentMission.text}</h3>
        <p>${currentMission.details}</p>
        <p><strong>Payout:</strong> ‚Ç¨${currentMission.payout.toLocaleString()}</p>
        <button onclick="acceptMission()">Accept</button></div>`:"";
      document.getElementById("recruitBox").innerHTML=currentRecruit?`
        <div class="card"><h3>${currentRecruit.name}</h3>
        Age:${currentRecruit.age}, ${currentRecruit.location}<br>
        Skill: ${currentRecruit.skill}<br>
        Cost: ‚Ç¨${currentRecruit.cost.toLocaleString()}<br>
        <button onclick="hireRecruit()">Hire</button>
        <button onclick="showRecruit()">Next Recruit</button></div>`:"";
      document.getElementById("stockBox").innerHTML=currentStock?`
        <div class="card"><h3>${currentStock.name}</h3>
          <p>Invest amount: ‚Ç¨<input id="stockAmt" type="number" min="1"/></p>
          <button onclick="investStock()">Invest</button>
        </div>`:"";
    }

    // ‚Äî‚Äî Recruits ‚Äî‚Äî
    function showRecruit(){
      currentRecruit={
        name: stockNames[random(0,stockNames.length-1)].split(" ")[0]+" Agent",
        age:random(25,45),
        location:["Berlin","Tokyo","NYC","Paris","Cairo","Moscow"][random(0,5)],
        skill:["Assassination","Stealth","Hacking"][random(0,2)],
        cost:random(20000,60000)
      };
      currentMission=null; currentStock=null;
      renderSections();
    }
    function hireRecruit(){
      if(wallet<currentRecruit.cost) return alert("Insufficient funds!");
      wallet-=currentRecruit.cost;
      recruits.push({...currentRecruit});
      showOverlay(`üéâ Hired ${currentRecruit.name} for ‚Ç¨${currentRecruit.cost.toLocaleString()}`,()=>{
        updateWallet(); renderLists();
        currentRecruit=null; renderSections();
        showRecruit();
      });
    }

    // ‚Äî‚Äî Stocks ‚Äî‚Äî
    let currentStock=null;
    function showStocks(){
      currentStock={ name: stockNames[random(0,stockNames.length-1)] };
      currentMission=currentRecruit=null;
      renderSections();
    }
    function investStock(){
      const amt=Number(document.getElementById("stockAmt").value);
      if(!amt||amt<1||amt>wallet) return alert("Enter valid amount up to your wallet.");
      const pct=random(78,200), result=Math.round(amt*pct/100);
      wallet += (result - amt);
      showOverlay(()=>{
        if(pct>100) return `üìà Well done, you got ‚Ç¨${result.toLocaleString()} (${pct}%)`;
        else if(pct===100) return "üìä The market didn‚Äôt go anywhere.";
        else return `üìâ Oops‚Ä¶ you lost ‚Ç¨${(amt - result).toLocaleString()}`;
      },()=>{ updateWallet(); currentStock=null; renderSections(); });
    }

    function showOverlay(textOrFn, cb){
      const o=document.getElementById("statusOverlay");
      o.textContent = typeof textOrFn==="function" ? textOrFn(): textOrFn;
      o.style.display="flex";
      setTimeout(()=>{ o.style.display="none"; cb&&cb(); },3000);
    }

    // ‚Äî‚Äî Init
    updateWallet(); renderLists(); showMission();
  </script>
</body>
</html>